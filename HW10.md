# HW 10

> çŸ¥è¯†ç‚¹ï¼š
>
> - DAGæ„å»ºï¼ˆå…¶å®šä¹‰æ˜¯æœ‰å‘æ— ç¯å›¾ï¼Œä½†è¯¾æœ¬å’Œç­”æ¡ˆéƒ½æ²¡ç”»ç®­å¤´ï¼Œé‚£å°±ä¸ç”»äº†å§ğŸ˜…ï¼‰
>
> - æŠ½è±¡è¯­æ³•æ ‘
>
> - å››å…ƒå¼åºåˆ—
>
>   > op  arg1  arg2  result
>
> - ä¸‰å…ƒå¼åºåˆ—
>
>   > op  arg1  arg2
>
> - é—´æ¥ä¸‰å…ƒå¼åºåˆ—
>
>   > è¾ƒä¸‰å…ƒå¼é¢å¤–åŠ äº†ä¸ªinstè¡¨æ ¼ï¼Œåˆ—å‡ºæŒ‡å‘ä¸‰å…ƒå¼çš„æŒ‡é’ˆ
>
> - ç±»å‹é•¿åº¦å’Œç›¸å¯¹åç§»
>
>   > Noteï¼šåç§»æ˜¯ç›¸å¯¹å…¶æ‰€åœ¨æ•°æ®åŒºå­—æ®µè€Œè¨€çš„
>   >
>   > å¦‚ï¼š
>   >
>   > ```C
>   > 	// ENV 1
>   > 	record { 
>   > 		// ENV 2
>   > 		float y; 
>   > 		record { 
>   > 			// ENV 3
>   > 			int tag; float x; } m;
>   > 		} p;
>   > ```
>   >
>   > ä¸Šè¿°tagçš„åç§»æ˜¯åœ¨ENV3ä¸­è®¡ç®—çš„ï¼Œæ•…ä¸º0ï¼›
>   >
>   > mçš„æ˜¯åœ¨ENV2è®¡ç®—çš„ï¼Œåç§»ä¸ºsizeof(float)ï¼ˆyå å»çš„ç©ºé—´ï¼‰ã€‚

### ç»ƒä¹ 6.1.1

ä¸ºä¸‹åˆ—è¡¨è¾¾å¼æ„å»º DAG å¹¶æŒ‡å‡ºæ¯ä¸ªå­è¡¨è¾¾å¼çš„å€¼ç¼–ç 
	((x + y) - ((x + y) * (x - y))) + ((x + y) * (x - y))

---

| åºå· | op   | l    | r    |
| ---- | ---- | ---- | ---- |
| 1    | id   | x    |      |
| 2    | id   | y    |      |
| 3    | +    | 1    | 2    |
| 4    | -    | 1    | 2    |
| 5    | *    | 3    | 4    |
| 6    | -    | 3    | 5    |
| 7    | +    | 6    | 5    |

![image-20231115224424105](HW10.assets/image-20231115224424105.png)

> ç”¨networkx.DiGraphå¯è§†åŒ–

### ç»ƒä¹ 6.1.2

å°†è¯­å¥ x = y * (y + z) ç¿»è¯‘ä¸º

1. æŠ½è±¡è¯­æ³•æ ‘
2. å››å…ƒå¼åºåˆ—
3. ä¸‰å…ƒå¼åºåˆ—
4. é—´æ¥ä¸‰å…ƒå¼åºåˆ—

----

1. ![image-20231115234658775](HW10.assets/image-20231115234658775.png)



2. | åºå· | op   | arg1 | arg2 | result |
   | ---- | ---- | ---- | ---- | ------ |
   | 0    | +    | y    | z    | t2     |
   | 1    | *    | y    | t2   | t3     |
   | 2    | =    | t3   |      | x      |



3. | åºå· | op   | arg1 | arg2 |
   | ---- | ---- | ---- | ---- |
   | 0    | +    | y    | z    |
   | 1    | *    | y    | (0)  |
   | 2    | =    | x    | (1)  |
   
4. 
   | -    | Inst |
   | ---- | ---- |
   | 0    | (0)  |
   | 1    | (1)  |
   | 2    | (2)  |

   | -    | op   | arg1 | arg2 |
   | ---- | ---- | ---- | ---- |
   | 0    | +    | y    | z    |
   | 1    | *    | y    | (0)  |
   | 2    | =    | x    | (1)  |

   
### ç»ƒä¹ 6.1.3

ç¡®å®šä¸‹åˆ—å£°æ˜åºåˆ—ä¸­å„ä¸ªæ ‡è¯†ç¬¦çš„ç±»å‹å’Œç›¸å¯¹åœ°å€ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é¾™ä¹¦ 6.3.2 ä¸­æåˆ°çš„æ–‡æ³•ã€‚
	float x;
	record { float x; float y; } p;
	record {
		record { int tag; float x; } m;
		float y;
	} q;



---

| line | name | type     | offset | env  |
| ---- | ---- | -------- | ------ | ---- |
| 1    | x    | float    | 0      | 1    |
| 2    | x    | float    | 0      | 2    |
| 2    | y    | float    | 8      | 2    |
| 2    | p    | record() | 8      | 1    |
| 4    | tag  | int      | 0      | 4    |
| 4    | x    | float    | 4      | 4    |
| 4    | m    | record() | 0      | 3    |
| 5    | y    | float    | 12     | 3    |
| 6    | q    | record() | 24     | 1    |



### ç»ƒä¹ 6.1.4

è€ƒè™‘é¾™ä¹¦å›¾ 6-22 çš„ç¿»è¯‘æ–¹æ¡ˆï¼Œç¿»è¯‘èµ‹å€¼è¯­å¥
	x = a\[b\[i\]\[j\]\]\[c\[k\]\];
       å¹¶ç»™å‡ºæ³¨é‡Šè¯­æ³•åˆ†ææ ‘ã€‚

![image-20231115235541519](HW10.assets/image-20231115235541519.png)